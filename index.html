<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- CSS -->
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/common.css" />
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <!-- 스크롤 트리거 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <!-- jquery -->
    <script src="./js/jquery.min.js"></script>
    <!-- slick -->
    <script src="./js/slick/slick.min.js"></script>
    <link rel="stylesheet" href="./css/slick/slick.css" />
    <link rel="stylesheet" href="./css/slick/slick-theme.css" />
    <!-- lenis -->
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    <!-- matter -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.min.js"></script>
  </head>
  <body>
    <header id="header">
      <div class="header-inner">
        <h1>
          <a
            href="/index.php"
            class="logo-off"
            onclick="gtag('event', 'click', {'event_category': 'button', 'event_label': '홈'});"
          >
            <svg
              version="1.1"
              id="Layer_1"
              class="logo_svg"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 500 500"
              style="enable-background: new 0 0 500 500"
              xml:space="preserve"
            >
              <g>
                <polygon
                  class="logo_svg_g"
                  points="214.5,183.2 170.2,316 133.8,420.9 206.8,420.9 286.3,183.1 	"
                ></polygon>
                <polygon
                  class="logo_svg_b"
                  points="91,79.6 19.8,79.6 133.8,420.9 170.2,316 	"
                ></polygon>
                <polygon
                  class="logo_svg_g"
                  points="407.5,79.1 328.4,315.4 292.8,420.9 365.7,420.9 480.2,79.1 	"
                ></polygon>
                <polygon
                  class="logo_svg_b"
                  points="295.5,214.9 295.3,214.1 258.7,322.9 292.8,420.9 328.4,315.4 	"
                ></polygon>
              </g>
            </svg>
          </a>
          <a
            href="/index.php"
            class="logo-on"
            onclick="gtag('event', 'click', {'event_category': 'button', 'event_label': '홈'});"
          >
            <img src="common/img/common/logo_white.svg" alt="위버로프트" />
          </a>
        </h1>
        <div id="all-menu-wrap">
          <a
            class="all-menu-btn"
            href="javascript:;"
            title="메뉴"
            aria-label="메뉴 열기"
            onclick="gtag('event', 'click', {'event_category': 'Common', 'event_label': 'Navigation'});"
          >
            <!-- <a class="all-menu-btn" href="javascript:;" title="메뉴" aria-label="메뉴 열기" onclick="gtag('event', 'click', {'event_category': 'Common', 'event_label': 'Navigation'});"> -->
            메뉴
            <span class="all-menu-btn-line all-menu-btn-line-01"></span>
            <span class="all-menu-btn-line all-menu-btn-line-02"></span>
            <span class="all-menu-btn-line all-menu-btn-line-03"></span>
          </a>
        </div>
      </div>
    </header>
    <main class="black">
      <section class="sec1">
        <div id="main-title">
          <h2 class="title">NEOPHARM</h2>
          <span class="sub"></span>
        </div>
        <div class="container">
          <figure class="img-box">
            <img src="./img/sec1/mockup.png" alt="목업이미지" />
          </figure>
          <figure class="bg-box">
            <div class="text">
              <img
                src="./img/sec1/weaver-portflio.svg"
                alt="위버로프트 포트폴리오 손글씨"
              />
            </div>
            <div class="line">
              <div class="wrap first">
                <div class="circle"></div>
              </div>
              <div class="wrap second">
                <div class="circle"></div>
              </div>
            </div>
          </figure>
          <div class="black-box"></div>
        </div>
      </section>
      <section class="sec2">
        <div class="container">
          <div class="text-box">
            <p>
              소아 경증환자의 응급실 과밀화를 방지하여 응급의 료자원의 효과적인
              분배를 위해 선별 가이드라인을 안내합다. 소아 경증환자의 응급실
              과밀화를 방지하 여 응급의료자원의 효과적인 분배를 위해 선별 가이
              드라인을 안내합다.
            </p>
            <p>
              소아 경증환자의 응급실 과밀화를 방지하여 응급의 료자원의 효과적인
              분배를 위해 선별 가이드라인을 안내합다. 소아 경증환자의 응급실
              과밀화를 방지하 여 응급의료자원의 효과적인 분배를 위해 선별 가이
              드라인을 안내합다.
            </p>
          </div>
          <a href="#" class="shortcut">사이트 바로가기</a>
        </div>
      </section>
      <section class="drop-key-section sec3">
        <div id="particles-js"></div>
        <div class="reverse-box"></div>
      </section>
      <script>
        var Engine = Matter.Engine,
          Render = Matter.Render,
          Events = Matter.Events,
          MouseConstraint = Matter.MouseConstraint,
          Mouse = Matter.Mouse,
          World = Matter.World,
          Bodies = Matter.Bodies,
          Composite = Matter.Composite,
          Body = Matter.Body;

        var engine, world, render, mouseConstraint;
        var objects = []; // 모든 오브젝트를 저장할 배열

        function createWorld() {
          engine = Engine.create({
            positionIterations: 6,
            velocityIterations: 4,
          });
          world = engine.world;

          var dropKeySection = document.querySelector(".drop-key-section");
          var sectionWidth = dropKeySection.offsetWidth;
          var sectionHeight = dropKeySection.offsetHeight;

          render = Render.create({
            element: dropKeySection,
            engine: engine,
            options: {
              width: sectionWidth,
              height: sectionHeight,
              pixelRatio: 1,
              background: "transparent",
              wireframes: false,
            },
          });

          createBoundaries();
          createObjects();

          var mouse = Mouse.create(render.canvas);
          mouseConstraint = MouseConstraint.create(engine, {
            mouse: mouse,
            constraint: {
              stiffness: 0.2,
              render: {
                visible: false,
              },
            },
          });

          World.add(world, mouseConstraint);
          render.mouse = mouse;

          Events.on(mouseConstraint, "mouseup", handleMouseUp);
          Events.on(render, "afterRender", renderText);

          Engine.run(engine);
          Render.run(render);
        }

        function createBoundaries() {
          var dropKeySection = document.querySelector(".drop-key-section");
          var sectionWidth = dropKeySection.offsetWidth;
          var sectionHeight = dropKeySection.offsetHeight;

          var ground = Bodies.rectangle(
            sectionWidth / 2,
            sectionHeight,
            sectionWidth,
            1,
            {
              render: {
                fillStyle: "#000000",
              },
              isStatic: true,
            }
          );
          var wallLeft = Bodies.rectangle(
            0,
            sectionHeight / 2,
            1,
            sectionHeight,
            {
              render: {
                fillStyle: "#000000",
              },
              isStatic: true,
            }
          );
          var wallRight = Bodies.rectangle(
            sectionWidth,
            sectionHeight / 2,
            1,
            sectionHeight,
            {
              render: {
                fillStyle: "#000000",
              },
              isStatic: true,
            }
          );
          var ceiling = Bodies.rectangle(sectionWidth / 2, 0, sectionWidth, 1, {
            render: {
              fillStyle: "#000000",
            },
            isStatic: true,
          });

          World.add(world, [ground, wallLeft, wallRight, ceiling]);
        }

        function createCircleBody(x, y, size, colors) {
          // 두 가지 색상 중 하나를 랜덤으로 선택
          var fillStyle = colors[Math.floor(Math.random() * colors.length)];
          var strokeColor = fillStyle === "black" ? "white" : "black"; // 색상에 따라 외곽선 색상 설정

          var body = Bodies.circle(x, y, size / 2, {
            // size를 반지름으로 사용
            render: {
              fillStyle: fillStyle, // 랜덤 선택된 색상
              strokeStyle: strokeColor, // 외곽선 색상 설정
              lineWidth: 2, // 선 두께
            },
            isStatic: false,
            restitution: 0.5,
            friction: 0.2,
          });

          objects.push(body);
          return body;
        }

        function createTextBody(x, y, width, height, fillStyle, strokeColor) {
          var body = Bodies.rectangle(x, y, width, height, {
            chamfer: {
              radius: Math.min(height / 2, 60), // height에 비례한 radius 값 설정
            },
            render: {
              fillStyle: fillStyle, // 배경 색상
              strokeStyle: strokeColor, // 외곽선 색상
              lineWidth: 2, // 선 두께
            },
            isStatic: false,
            restitution: 0.5,
            friction: 0.2,
          });

          objects.push(body);
          return body;
        }

        function createObjects() {
          objects = []; // 객체 배열 초기화
          var black = "black";
          var white = "white";
          var red = "red";

          var bodyData = [
            {
              text: "ART",
              color: black,
              strokeColor: white,
              textColor: "white",
            },
            {
              text: "3D",
              color: black,
              strokeColor: white,
              textColor: "white",
            },
            {
              text: "GRAPHIC",
              color: black,
              strokeColor: white,
              textColor: "white",
            },
            {
              text: "PHOTO",
              color: black,
              strokeColor: white,
              textColor: "white",
            },
            {
              text: "VINTAGE",
              color: white,
              strokeColor: black,
              textColor: "black",
            },
            {
              text: "SHORT",
              color: white,
              strokeColor: black,
              textColor: "black",
            },

            {
              text: "GOOD",
              color: red,
              strokeColor: white,
              textColor: "white",
            },
          ];

          var dropKeySection = document.querySelector(".drop-key-section");
          var sectionWidth = dropKeySection.offsetWidth;
          var sectionHeight = dropKeySection.offsetHeight;

          var centerX = sectionWidth / 2;
          var yStart = 0; // 화면 상단에서 시작

          // 텍스트 오브젝트 생성
          bodyData.forEach((data, index) => {
            var textWidth = getTextWidth(data.text);
            var windowWidth = window.innerWidth;
            var padding = Math.min(300, Math.max(20, windowWidth * 0.1)); // 패딩 값을 추가

            var height = Math.min(80, Math.max(42, windowWidth * 0.05)); // 창 크기에 따라 조정

            var x = centerX + (Math.random() - 0.5) * 200;
            var y = yStart + index * 10;
            var body = createTextBody(
              x,
              y,
              textWidth + padding,
              height,
              data.color,
              data.strokeColor // 외곽선 색상 설정
            );
            body.text = data.text; // 텍스트를 Body에 추가 (하지만 Matter.js 자체에서 렌더링하지 않음)
            body.textColor = data.textColor; // 텍스트 색상 저장
            Body.setVelocity(body, { x: (Math.random() - 0.5) * 2, y: 2 });
          });

          // 원형 오브젝트 추가 (검정색과 하얀색, 외곽선 반대 색상으로 설정)
          var circleColors = ["black", "white"]; // 두 가지 색상 (검정, 하양)
          for (var i = 0; i < 3; i++) {
            // 원하는 수만큼의 원형 오브젝트 생성
            var windowWidth = window.innerWidth;
            var size = Math.min(80, Math.max(42, windowWidth * 0.05)); // 텍스트와 동일한 반응형 크기

            var x = centerX + (Math.random() - 0.5) * sectionWidth * 0.8; // 랜덤한 X 위치
            var y = yStart + i * 10;

            var circleBody = createCircleBody(
              x,
              y,
              size, // 텍스트와 동일한 크기로 설정
              circleColors // 두 가지 색상 전달
            );
            Body.setVelocity(circleBody, {
              x: (Math.random() - 0.5) * 2,
              y: 2,
            });
          }

          World.add(world, objects);
        }

        function getTextWidth(text) {
          var canvas = document.createElement("canvas");
          var context = canvas.getContext("2d");
          return context.measureText(text).width;
        }

        function handleMouseUp(event) {
          var mouseConstraint = event.source;
          var bodies = Composite.allBodies(engine.world);
          if (!mouseConstraint.bodyB) {
            for (var i = 0; i < bodies.length; i++) {
              var body = bodies[i];
              if (
                Matter.Bounds.contains(
                  body.bounds,
                  mouseConstraint.mouse.position
                )
              ) {
                var bodyUrl = body.url;
                console.log("Body.Url >> " + bodyUrl);
                if (bodyUrl != undefined) {
                  window.open(bodyUrl, "_blank");
                  console.log("Hyperlink was opened");
                }
                break;
              }
            }
          }
        }

        function renderText() {
          var context = render.context;
          var bodies = Composite.allBodies(engine.world);

          var windowWidth = window.innerWidth;
          var fontSize = Math.min(38, Math.max(14, windowWidth * 0.02)); // 반응형 폰트 크기 설정

          context.textAlign = "center";
          context.textBaseline = "middle";

          for (var i = 0; i < bodies.length; i++) {
            var body = bodies[i];
            if (body.text) {
              var centerX = body.position.x;
              var centerY = body.position.y;

              context.save();
              context.translate(centerX, centerY);
              context.rotate(body.angle);

              context.fillStyle = body.textColor || "white"; // 텍스트 색상
              context.font = `500 ${fontSize}px Pretendard Variable`; // 폰트 설정
              context.fillText(body.text, 0, 0); // 텍스트 출력
              context.restore();
            }
          }
        }

        function resizeCanvas() {
          // 기존 엔진, 렌더러, 월드 제거
          World.clear(world);
          Engine.clear(engine);
          Render.stop(render);
          render.canvas.remove();
          render.canvas = null;
          render.context = null;
          render.textures = {};

          // 새로운 월드 생성
          createWorld();
        }

        createWorld();

        // window.addEventListener('resize', resizeCanvas);
        var timer = null;
        $(window).on("load onorientationchange resize", function (e) {
          clearTimeout(timer);
          timer = setTimeout(resizeM, 100); //화면 변경이 끝난후 0.1s뒤에 작동
        });

        function resizeM() {
          resizeCanvas();
        }
      </script>

      <section class="sec4">
        <div class="img-box">
          <div class="first"></div>
          <div class="second"></div>
        </div>
        <div class="reverse-box"></div>
      </section>
      <section class="sec5">
        <div class="container">
          <div class="visual-box">
            <div class="slider main">
              <div class="slider-content color">
                <div class="main-box">
                  <i></i>
                  <i></i>
                  <i></i>
                </div>
                <span class="sub-title">THEME COLORS</span>
                <div class="sub-box">
                  <div class="up">
                    <span class="first"
                      ><strong>PRIMARY</strong>&nbsp;#E00719 R224 G7 B25</span
                    >
                    <span class="second"
                      ><strong>SECONDARY</strong>&nbsp;#FFAEDE R255 G174
                      B222</span
                    >
                  </div>
                  <div class="down">
                    <span class="third"
                      ><strong>SUB1</strong>&nbsp;#E00719 R224 G7 B25</span
                    >
                    <span class="fourth"
                      ><strong>SUB2</strong>&nbsp;#FFAEDE R255 G174 B222</span
                    >
                  </div>
                </div>
              </div>
              <div class="slider-content text">
                <div class="main-box">
                  <span>가</span>
                  <span>나</span>
                  <span>다</span>
                </div>
                <span class="sub-title">국문 영문 혼용</span>
                <div class="sub-box">
                  <div class="up">
                    <span class="first">가나다라마바사아자차카타파하</span>
                  </div>
                  <div class="middle">
                    <span class="first">ABCDEFGHIJKLMNOPQRSTUVWYZ</span>
                  </div>
                  <div class="down">
                    <span class="first">abcdefghijklmnopqrstuvwyz</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="slider sub1">
            <div class="text-box">
              <span class="category">COLOR</span>
              <h3>NEOPHARM RED</h3>
              <p>
                소아 경증환자의 응급실 과밀화를 방지하여 응급의료자원의<br />
                효과적인 분배를 위해 선별 가이드라인을 안내합다.
              </p>
            </div>
            <div class="text-box">
              <span class="category">FONT</span>
              <h3>PRETENDARD</h3>
              <p>
                환경 보호를 위해 일상에서 실천할 수 있는 간단한 방법들을<br />
                안내하여 지속 가능한 생활을 독려합니다.
              </p>
            </div>
          </div>
        </div>
      </section>
      <section class="sec6 pc">
        <div class="device-container">
          <figure>
            <div class="fake-img"></div>
          </figure>
        </div>
        <div class="container">
          <div class="mobile-box first">
            <div class="detail">
              <span class="category">DETAIL2</span>
              <p>
                아이아파는 서울대학교병원 소아응급의학과 의료진이<br />
                응급실 과밀화를 방지하여 가이드라인을 안내합니다.
              </p>
            </div>
          </div>
          <div class="mobile-box second"></div>
          <div class="mobile-box third">
            <div class="detail">
              <span class="category">DETAIL1</span>
              <p>
                아이아파는 서울대학교병원 소아응급의학과 의료진이<br />
                응급실 과밀화를 방지하여 가이드라인을 안내합니다.
              </p>
            </div>
          </div>
        </div>
        <div class="bg-box">
          <img src="./img/sec6/w-logo.svg" alt="w로고" />
        </div>
      </section>
      <section class="sec6 mob">
        <div class="container">
          <div class="img-area first"></div>
          <div class="img-area second"></div>
          <div class="img-area third"></div>
        </div>
        <div class="device-container">
          <figure>
            <div class="fake-img"></div>
          </figure>
        </div>
      </section>
      <section class="sec7 pc">
        <div class="container">
          <ul class="items">
            <li class="item">
              <div></div>
            </li>
            <li class="item">
              <div></div>
            </li>
            <li class="item">
              <div></div>
            </li>
            <li class="item">
              <div></div>
            </li>
          </ul>
        </div>
        <div class="bg-box"></div>
      </section>
      <section class="sec7 mob">
        <div class="container">
          <div class="img-area first"></div>
          <div class="img-area second"></div>
          <div class="img-area third"></div>
          <div class="img-area fourth"></div>
        </div>
      </section>
      <section class="sec8 pc">
        <div class="container">
          <div class="solution first">
            <span class="category">PROBLEM1</span>
            <div class="be-box">
              <p>
                <strong>복잡한 레이아웃</strong>때문에<br />
                정보에 접근하기가 어려움
              </p>
            </div>
            <img src="./img/sec8/arrow.svg" alt="arrow" />
            <div class="af-box">
              <p>친절한 인터페이스</p>
            </div>
          </div>
          <div class="solution second">
            <span class="category">PROBLEM2</span>
            <div class="be-box">
              <p>
                사용자 경험이 저해되어<br />
                <strong>정보를 찾기 힘듬</strong>
              </p>
            </div>
            <img src="./img/sec8/arrow.svg" alt="arrow" />
            <div class="af-box">
              <p>효율적인 마크업</p>
            </div>
          </div>
          <div class="solution third">
            <span class="category">PROBLEM3</span>
            <div class="be-box">
              <p>
                <strong>어려운 디자인</strong>으로 인해<br />
                필요한 정보를 쉽게 찾을 수 없음
              </p>
            </div>
            <img src="./img/sec8/arrow.svg" alt="arrow" />
            <div class="af-box">
              <p>심플한 레이아웃</p>
            </div>
          </div>
        </div>
      </section>
      <section class="sec8 mob">
        <div class="container">
          <div class="solution first">
            <span class="category">PROBLEM1</span>
            <div class="be-box">
              <p>
                <strong>복잡한 레이아웃</strong>때문에<br />
                정보에 접근하기가 어려움
              </p>
            </div>
            <img src="./img/sec8/arrow.svg" alt="arrow" />
            <div class="af-box">
              <p>친절한 인터페이스</p>
            </div>
          </div>
          <div class="solution second">
            <span class="category">PROBLEM2</span>
            <div class="be-box">
              <p>
                사용자 경험이 저해되어<br />
                <strong>정보를 찾기 힘듬</strong>
              </p>
            </div>
            <img src="./img/sec8/arrow.svg" alt="arrow" />
            <div class="af-box">
              <p>효율적인 마크업</p>
            </div>
          </div>
          <div class="solution third">
            <span class="category">PROBLEM3</span>
            <div class="be-box">
              <p>
                <strong>어려운 디자인</strong>으로 인해<br />
                필요한 정보를 쉽게 찾을 수 없음
              </p>
            </div>
            <img src="./img/sec8/arrow.svg" alt="arrow" />
            <div class="af-box">
              <p>심플한 레이아웃</p>
            </div>
          </div>
        </div>
      </section>
      <section class="sec9">
        <div class="container">
          <img src="./img/sec9/3d임시.png" alt="3d임시" />
          <h3>FIND A AWAY</h3>
          <p>불가능한 것은 없습니다. 단지 방법을 찾지 못한 것일 뿐입니다.</p>
        </div>
        <div class="black-bg"></div>
      </section>
      <section class="sec10">
        <div class="container">
          <a class="left" href="#">
            <span><strong>PREV</strong>위버로프트</span>
          </a>
          <a class="middle" href="#"></a>
          <a href="#" class="right">
            <span><strong>NEXT</strong>위버로프트</span></a
          >
        </div>
      </section>
    </main>
    <footer id="footer">
      <div class="footer-inner">
        <p class="logo">
          <a href="/index.php"
            ><img src="common/img/common/footer_logo.svg" alt="위버로프트"
          /></a>
        </p>
        <p class="address">
          서울 구로구 디지털로 26길 123 지플러스타워 4F, 407호 408호
        </p>
        <p class="notice">
          <span
            >E-mail.
            <a href="mailto:ms@weaverloft.com">ms@weaverloft.com</a></span
          ><span>Tel. <a href="tel:028587492">02-858-7492</a></span
          ><span>Business hour. Mon ~ Fri / 10:00 am ~ 5:00 pm</span>
        </p>
        <ul class="sns">
          <!-- <li class="f-twitter"><a href="http://twitter.com/weaverloft" target="_blank" alt="위버로프트 트위터">위버로프트 트위터</a></li> -->
          <li class="f-facebook">
            <a
              href="http://www.facebook.com/WeaverLoft"
              target="_blank"
              alt="위버로프트 페이스북"
              >위버로프트 페이스북</a
            >
          </li>
          <li class="f-instagram">
            <a
              href="https://www.instagram.com/weaverloft"
              target="_blank"
              alt="위버로프트 인스타그램"
              >위버로프트 인스타그램</a
            >
          </li>
          <li class="f-blog">
            <a
              href="https://www.weaverloft.com/blog/sub/home.php"
              target="_blank"
              alt="위버로프트 블로그"
              >위버로프트 블로그</a
            >
          </li>
        </ul>
        <p class="copyright">© Weaverloft. All rights reserved.</p>
        <!-- <ul class="sns">
              <li><a href="http://twitter.com/weaverloft" target="_blank" alt="위버로프트 트위터">위버로프트 트위터</a></li>
              <li><a href="http://www.facebook.com/WeaverLoft" target="_blank" alt="위버로프트 페이스북">위버로프트 페이스북</a></li>
          </ul> -->
      </div>
    </footer>
    <div id="quick-btn">
      <a href="javascript:;" tabindex="0">
        <div class="hover-img">
          <span class="qa-img">
            <!-- <img
              src="common/img/common/airplane-white.svg"
              alt="프로젝트 의뢰하기"
            /> -->
          </span>
          <span class="qa-txt"><em>의뢰하기</em></span>
        </div>
      </a>
    </div>
    <div id="top-btn">
      <a href="javascript:;" tabindex="0">
        <div class="hover-img">
          <span class="top-img"
            ><img
              src="common/img/common/ico_select_arrow_grey.svg"
              alt="페이지 맨 위로"
          /></span>
          <span class="top-txt"><em>TOP</em></span>
        </div>
      </a>
    </div>

    <script src="./js/index.js"></script>
    <script src="./js/common.js"></script>
  </body>
</html>
