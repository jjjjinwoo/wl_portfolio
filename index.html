<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- CSS -->
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/common.css" />
    <!-- GSAP X -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <!-- 스크롤 트리거 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <!-- swiper X -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- lenis -->
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    <!-- matter -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.min.js"></script>
  </head>
  <body>
    <header id="header">
      <div class="header-inner">
        <h1>
          <a
            href="/index.php"
            class="logo-off"
            onclick="gtag('event', 'click', {'event_category': 'button', 'event_label': '홈'});"
          >
            <svg
              version="1.1"
              id="Layer_1"
              class="logo_svg"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 500 500"
              style="enable-background: new 0 0 500 500"
              xml:space="preserve"
            >
              <g>
                <polygon
                  class="logo_svg_g"
                  points="214.5,183.2 170.2,316 133.8,420.9 206.8,420.9 286.3,183.1 	"
                ></polygon>
                <polygon
                  class="logo_svg_b"
                  points="91,79.6 19.8,79.6 133.8,420.9 170.2,316 	"
                ></polygon>
                <polygon
                  class="logo_svg_g"
                  points="407.5,79.1 328.4,315.4 292.8,420.9 365.7,420.9 480.2,79.1 	"
                ></polygon>
                <polygon
                  class="logo_svg_b"
                  points="295.5,214.9 295.3,214.1 258.7,322.9 292.8,420.9 328.4,315.4 	"
                ></polygon>
              </g>
            </svg>
          </a>
          <a
            href="/index.php"
            class="logo-on"
            onclick="gtag('event', 'click', {'event_category': 'button', 'event_label': '홈'});"
          >
            <img src="common/img/common/logo_white.svg" alt="위버로프트" />
          </a>
        </h1>
        <div id="all-menu-wrap">
          <a
            class="all-menu-btn"
            href="javascript:;"
            title="메뉴"
            aria-label="메뉴 열기"
            onclick="gtag('event', 'click', {'event_category': 'Common', 'event_label': 'Navigation'});"
          >
            <!-- <a class="all-menu-btn" href="javascript:;" title="메뉴" aria-label="메뉴 열기" onclick="gtag('event', 'click', {'event_category': 'Common', 'event_label': 'Navigation'});"> -->
            메뉴
            <span class="all-menu-btn-line all-menu-btn-line-01"></span>
            <span class="all-menu-btn-line all-menu-btn-line-02"></span>
            <span class="all-menu-btn-line all-menu-btn-line-03"></span>
          </a>
        </div>
      </div>
    </header>
    <main class="work-view-content-add black">
      <section class="work-add-sec1">
        <div id="wa-main-title">
          <h2 class="wa-title">NEOPHARM</h2>
          <span class="sub"></span>
        </div>
        <div class="wa-con">
          <figure class="img-box">
            <img
              src="./img/img_work_view_neopharm_01.png"
              alt="목업 이미지 1"
            />
          </figure>
          <figure class="bg-box">
            <div class="text-area">
              <img
                src="./img/base/base_calligraphy.svg"
                alt="위버로프트 포트폴리오 손글씨"
              />
            </div>
            <div class="line-bg">
              <div class="wrap first pc">
                <div class="circle"></div>
              </div>
              <div class="wrap first mob">
                <div class="circle"></div>
              </div>
              <div class="wrap second pc">
                <div class="circle"></div>
              </div>
              <div class="wrap second mob">
                <div class="circle"></div>
              </div>
            </div>
          </figure>
          <div class="black-box"></div>
        </div>
      </section>
      <section class="work-add-sec2">
        <div class="wa-con">
          <div class="text-box">
            <p>
              피부 과학의 혁신, 네오팜샵이 최신 기술을 적용한 카페24 플랫폼으로
              성공적으로 이전하여 더욱 진화된 모습으로 고객님을 맞이합니다! 20년
              이상의 연구와 노하우를 바탕으로 한 네오팜의 대표 브랜드들을 이제
              최적화된 UI/UX 디자인과 고급 보안 시스템이 적용된 환경에서
              만나보세요.
            </p>
            <p>
              오늘의 특가, 앱 전용 특가 등 기존 카페24에서는 없는 기능의 구현과
              사용자 행동 기반의맞춤형 상품 추천 엔진, 반응형 모바일 최적화,
              고성능 검색 기능 등 첨단 기술을 활용한 서비스로 쇼핑 경험을 한
              단계 높였습니다. 네오팜샵에서 최첨단 기술이 만든 원활한 쇼핑
              경험과 함께 당신만의 맞춤 피부 케어 여정을 시작하세요.
            </p>
          </div>
          <a href="https://neopharmshop.co.kr/" class="shortcut-btn"
            >사이트 바로가기</a
          >
        </div>
      </section>
      <section class="drop-key-section work-add-sec3">
        <div id="particles-js"></div>
        <div class="reverse-box"></div>
      </section>
      <section class="work-add-sec4">
        <div class="img-box pc swiper-container">
          <div class="swiper-wrapper">
            <div class="first swiper-slide">
              <img
                src="./img/img_work_view_neopharm_02.jpg"
                alt="목업 이미지 2"
              />
            </div>
            <div class="second swiper-slide">
              <img
                src="./img/img_work_view_neopharm_03.jpg"
                alt="목업 이미지 3"
              />
            </div>
          </div>
        </div>
        <div class="img-box mob swiper-container">
          <div class="swiper-wrapper">
            <div class="first swiper-slide">
              <img
                src="./img/img_work_view_neopharm_02_mob.jpg"
                alt="목업 이미지 2 - 모바일"
              />
            </div>
            <div class="second swiper-slide">
              <img
                src="./img/img_work_view_neopharm_03_mob.jpg"
                alt="목업 이미지 3 - 모바일"
              />
            </div>
          </div>
        </div>
        <div class="reverse-box"></div>
      </section>
      <section class="work-add-sec5">
        <div class="wa-con">
          <div class="visual-box swiper-container">
            <div class="slider main swiper-wrapper">
              <div class="slider-content color swiper-slide">
                <div class="main-box">
                  <i></i>
                  <i></i>
                  <i></i>
                </div>
                <span class="sub-title">THEME COLORS</span>
                <div class="sub-box">
                  <div class="up">
                    <span class="first"
                      ><strong>PRIMARY</strong>&nbsp;#E00719 R224 G7 B25</span
                    >
                    <span class="second"
                      ><strong>SECONDARY</strong>&nbsp;#FFAEDE R255 G174
                      B222</span
                    >
                  </div>
                  <div class="down">
                    <span class="third"
                      ><strong>SUB1</strong>&nbsp;#E00719 R224 G7 B25</span
                    >
                    <span class="fourth"
                      ><strong>SUB2</strong>&nbsp;#FFAEDE R255 G174 B222</span
                    >
                  </div>
                </div>
              </div>
              <div class="slider-content text-area swiper-slide">
                <div class="main-box">
                  <span>가</span>
                  <span>나</span>
                  <span>다</span>
                </div>
                <span class="sub-title">국문 영문 혼용</span>
                <div class="sub-box">
                  <div class="up">
                    <span class="first">가나다라마바사아자차카타파하</span>
                  </div>
                  <div class="middle">
                    <span class="first">ABCDEFGHIJKLMNOPQRSTUVWYZ</span>
                  </div>
                  <div class="down">
                    <span class="first">abcdefghijklmnopqrstuvwyz</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="slider sub1 text-swiper">
            <div class="swiper-wrapper">
              <div class="text-box swiper-slide">
                <span class="category-name">COLOR</span>
                <h3>NEOPHARM RED</h3>
                <p>
                  "네오팜 레드"는 브랜드의 에너지와 신뢰를 상징합니다.
                  소비자에게 강렬하면서도 따뜻한 인상을 주며, 품질과 안전성을
                  강조해 네오팜의 아이덴티티를 직관적으로 표현합니다.
                </p>
              </div>
              <div class="text-box swiper-slide">
                <span class="category-name">FONT</span>
                <h3>PRETENDARD</h3>
                <p>
                  깔끔하고 현대적인 디자인과 다양한 굵기 및 스타일을 제공해
                  가독성이 높고, 웹사이트의 개성과 조화를 이루기 쉬우며,
                  모바일을 포함한 다양한 화면에서도 안정적인 사용자 경험을
                  지원합니다.
                </p>
              </div>
            </div>
            <div class="swiper-pagination"></div>
          </div>
        </div>
      </section>
      <section class="work-add-sec6 pc">
        <div class="device-container">
          <figure>
            <div class="fake-img"></div>
          </figure>
        </div>
        <div class="wa-con">
          <div class="mobile-box first">
            <div class="detail">
              <span class="category-name">DETAIL2</span>
              <p>
                아이아파는 서울대학교병원 소아응급의학과 의료진이<br />
                응급실 과밀화를 방지하여 가이드라인을 안내합니다.
              </p>
            </div>
            <div class="img-box">
              <img
                src="./img/img_work_view_neopharm_05.png"
                alt="목업 이미지 5"
              />
            </div>
          </div>
          <div class="mobile-box second">
            <div class="img-box">
              <img
                src="./img/img_work_view_neopharm_04.png"
                alt="목업 이미지 4"
              />
            </div>
          </div>
          <div class="mobile-box third">
            <div class="detail">
              <span class="category-name">DETAIL1</span>
              <p>
                아이아파는 서울대학교병원 소아응급의학과 의료진이<br />
                응급실 과밀화를 방지하여 가이드라인을 안내합니다.
              </p>
            </div>
            <div class="img-box">
              <img
                src="./img/img_work_view_neopharm_06.png"
                alt="목업 이미지 6"
              />
            </div>
          </div>
        </div>
        <div class="bg-box">
          <img src="./img/base/base_w.svg" alt="w로고" />
        </div>
      </section>
      <section class="work-add-sec6 mob">
        <div class="wa-con">
          <div class="img-area first">
            <img
              src="./img/img_work_view_neopharm_04.png"
              alt="목업 이미지 4 - 모바일"
            />
          </div>
          <div class="img-area second">
            <img
              src="./img/img_work_view_neopharm_05.png"
              alt="목업 이미지 5 - 모바일"
            />
          </div>
          <div class="img-area third">
            <img
              src="./img/img_work_view_neopharm_06.png"
              alt="목업 이미지 6 - 모바일"
            />
          </div>
        </div>
        <div class="device-container">
          <figure>
            <div class="fake-img"></div>
          </figure>
        </div>
      </section>
      <section class="work-add-sec7 pc">
        <div class="wa-con">
          <ul class="items">
            <li class="item">
              <div>
                <div class="img-box">
                  <img
                    src="./img/img_work_view_neopharm_07.png"
                    alt="목업 이미지 7"
                  />
                </div>
              </div>
            </li>
            <li class="item">
              <div>
                <div class="img-box">
                  <img
                    src="./img/img_work_view_neopharm_08.png"
                    alt="목업 이미지 8"
                  />
                </div>
              </div>
            </li>
            <li class="item">
              <div>
                <div class="img-box">
                  <img
                    src="./img/img_work_view_neopharm_09.png"
                    alt="목업 이미지 9"
                  />
                </div>
              </div>
            </li>
            <li class="item">
              <div>
                <div class="img-box">
                  <img
                    src="./img/img_work_view_neopharm_10.png"
                    alt="목업 이미지 10"
                  />
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="bg-box"></div>
      </section>
      <section class="work-add-sec7 mob">
        <div class="wa-con">
          <div class="img-area first">
            <img
              src="./img/img_work_view_neopharm_07.png"
              alt="목업 이미지 7"
            />
          </div>
          <div class="img-area second">
            <img
              src="./img/img_work_view_neopharm_08.png"
              alt="목업 이미지 8"
            />
          </div>
          <div class="img-area third">
            <img
              src="./img/img_work_view_neopharm_09.png"
              alt="목업 이미지 9"
            />
          </div>
          <div class="img-area fourth">
            <img
              src="./img/img_work_view_neopharm_10.png"
              alt="목업 이미지 10"
            />
          </div>
        </div>
      </section>
      <section class="work-add-sec8 pc">
        <div class="wa-con">
          <div class="solution first">
            <span class="category-name">KEY POINT 1</span>
            <div class="be-box">
              <p>
                모든 사용자에게
                <strong>동일한 쇼핑 경험을 제공</strong>하여<br />
                개인의 취향과 needs를 반영하지 못함
              </p>
            </div>
            <img src="./img/base/base_arrow_d.svg" alt="arrow" />
            <div class="af-box">
              <p>맞춤형 쇼핑 경험 제공</p>
            </div>
          </div>
          <div class="solution second">
            <span class="category-name">KEY POINT 2</span>
            <div class="be-box">
              <p>
                복잡하고 일관성 없는 UI로 사용자들의<br />
                <strong>정보 탐색과 구매 과정에 어려움</strong> 발생
              </p>
            </div>
            <img src="./img/base/base_arrow_d.svg" alt="arrow" />
            <div class="af-box">
              <p>사용자 친화적 UI/UX 구현</p>
            </div>
          </div>
          <div class="solution third">
            <span class="category-name">KEY POINT 3</span>
            <div class="be-box">
              <p>
                모바일 기기에서의 <strong>접근성과 사용성이 떨어져</strong
                ><br />
                모바일 쇼핑 트렌드에 대응 미흡
              </p>
            </div>
            <img src="./img/base/base_arrow_d.svg" alt="arrow" />
            <div class="af-box">
              <p>모바일 최적화 실현</p>
            </div>
          </div>
        </div>
      </section>
      <section class="work-add-sec8 mob">
        <div class="wa-con">
          <div class="solution first">
            <span class="category-name">KEY POINT 1</span>
            <div class="be-box">
              <p>
                모든 사용자에게
                <strong>동일한 쇼핑 경험을 제공</strong>하여<br />
                개인의 취향과 needs를 반영하지 못함
              </p>
            </div>
            <img src="./img/base/base_arrow_d.svg" alt="arrow" />
            <div class="af-box">
              <p>맞춤형 쇼핑 경험 제공</p>
            </div>
          </div>
          <div class="solution second">
            <span class="category-name">KEY POINT 2</span>
            <div class="be-box">
              <p>
                복잡하고 일관성 없는 UI로 사용자들의<br />
                <strong>정보 탐색과 구매 과정에 어려움</strong> 발생
              </p>
            </div>
            <img src="./img/base/base_arrow_d.svg" alt="arrow" />
            <div class="af-box">
              <p>사용자 친화적 UI/UX 구현</p>
            </div>
          </div>
          <div class="solution third">
            <span class="category-name">KEY POINT 3</span>
            <div class="be-box">
              <p>
                모바일 기기에서의 <strong>접근성과 사용성이 떨어져</strong
                ><br />
                모바일 쇼핑 트렌드에 대응 미흡
              </p>
            </div>
            <img src="./img/base/base_arrow_d.svg" alt="arrow" />
            <div class="af-box">
              <p>모바일 최적화 실현</p>
            </div>
          </div>
        </div>
      </section>
      <section class="work-add-sec9">
        <div class="wa-con">
          <img src="./img/base/base_w_3d.png" alt="3d임시" />
          <h3>FIND A AWAY</h3>
          <p>불가능한 것은 없습니다. 단지 방법을 찾지 못한 것일 뿐입니다.</p>
        </div>
        <div class="bg-box">
          <img src="./img/img_work_view_neopharm_11.png" alt="목업 이미지 11" />
        </div>
        <div class="black-bg"></div>
      </section>
      <section class="work-add-sec10">
        <div class="wa-con">
          <a class="left" href="#">
            <span><strong>PREV</strong>위버로프트</span>
          </a>
          <a class="middle" href="#"></a>
          <a href="#" class="right">
            <span><strong>NEXT</strong>위버로프트</span></a
          >
        </div>
      </section>
    </main>
    <footer id="footer">
      <div class="footer-inner">
        <p class="logo">
          <a href="/index.php"
            ><img src="common/img/common/footer_logo.svg" alt="위버로프트"
          /></a>
        </p>
        <p class="address">
          서울 구로구 디지털로 26길 123 지플러스타워 4F, 407호 408호
        </p>
        <p class="notice">
          <span
            >E-mail.
            <a href="mailto:ms@weaverloft.com">ms@weaverloft.com</a></span
          ><span>Tel. <a href="tel:028587492">02-858-7492</a></span
          ><span>Business hour. Mon ~ Fri / 10:00 am ~ 5:00 pm</span>
        </p>
        <ul class="sns">
          <!-- <li class="f-twitter"><a href="http://twitter.com/weaverloft" target="_blank" alt="위버로프트 트위터">위버로프트 트위터</a></li> -->
          <li class="f-facebook">
            <a
              href="http://www.facebook.com/WeaverLoft"
              target="_blank"
              alt="위버로프트 페이스북"
              >위버로프트 페이스북</a
            >
          </li>
          <li class="f-instagram">
            <a
              href="https://www.instagram.com/weaverloft"
              target="_blank"
              alt="위버로프트 인스타그램"
              >위버로프트 인스타그램</a
            >
          </li>
          <li class="f-blog">
            <a
              href="https://www.weaverloft.com/blog/sub/home.php"
              target="_blank"
              alt="위버로프트 블로그"
              >위버로프트 블로그</a
            >
          </li>
        </ul>
        <p class="copyright">© Weaverloft. All rights reserved.</p>
        <!-- <ul class="sns">
              <li><a href="http://twitter.com/weaverloft" target="_blank" alt="위버로프트 트위터">위버로프트 트위터</a></li>
              <li><a href="http://www.facebook.com/WeaverLoft" target="_blank" alt="위버로프트 페이스북">위버로프트 페이스북</a></li>
          </ul> -->
      </div>
    </footer>
    <div id="quick-btn">
      <a href="javascript:;" tabindex="0">
        <div class="hover-img">
          <span class="qa-img">
            <!-- <img
              src="common/img/common/airplane-white.svg"
              alt="프로젝트 의뢰하기"
            /> -->
          </span>
          <span class="qa-txt"><em>의뢰하기</em></span>
        </div>
      </a>
    </div>
    <div id="top-btn">
      <a href="javascript:;" tabindex="0">
        <div class="hover-img">
          <span class="top-img"
            ><img
              src="common/img/common/ico_select_arrow_grey.svg"
              alt="페이지 맨 위로"
          /></span>
          <span class="top-txt"><em>TOP</em></span>
        </div>
      </a>
    </div>
    <script>
      "use strict";

      // 색상 변수

      const firstColor = "black";
      const secondColor = "white";

      // *섹션2, 섹션3: 배경 반전

      gsap.to(".work-view-content-add .work-add-sec1 .black-box", {
        scrollTrigger: {
          trigger: ".work-view-content-add .work-add-sec2",
          start: "100% 50%",
          end: "100% 50%",
          scrub: 2,
        },
        backgroundColor: firstColor,
      });

      gsap.to(".work-view-content-add .work-add-sec2", {
        scrollTrigger: {
          trigger: ".work-view-content-add .work-add-sec2",
          start: "100% 50%",
          end: "100% 50%",
          scrub: 2,
        },
        backgroundColor: firstColor,
      });

      gsap.to(".work-view-content-add .work-add-sec3 .reverse-box", {
        scrollTrigger: {
          trigger: ".work-view-content-add .work-add-sec3",
          start: "100% 50%",
          end: "100% 50%",
          scrub: 2,
        },
        opacity: 1,
      });

      // *섹션4: 배경 반전

      gsap.to(".work-view-content-add .work-add-sec4 .reverse-box", {
        scrollTrigger: {
          trigger: ".work-add-sec3",
          start: "100% 50%",
          end: "100% 50%",
          scrub: 2,
        },
        opacity: 0,
      });
    </script>
    <script>
      //* 떨어지는 섹션

      //matter.js
      const dropKeySection = document.querySelector(
        ".work-view-content-add .drop-key-section"
      );
      const wallThickness = 200; //벽 두께
      var sectionWidth = dropKeySection.clientWidth;
      var sectionHeight = dropKeySection.clientHeight;

      var Engine = Matter.Engine,
        Render = Matter.Render,
        Runner = Matter.Runner,
        Bodies = Matter.Bodies,
        Events = Matter.Events,
        Composite = Matter.Composite;
      var engine = Engine.create();

      var objects = []; // 모든 오브젝트를 저장할 배열

      // 초기 값
      var render = Render.create({
        element: dropKeySection,
        engine: engine,
        options: {
          width: sectionWidth,
          height: sectionHeight,
          pixelRatio: 1,
          background: "transparent",
          wireframes: false,
        },
      });
      function createCircleBody(x, y, size, colors) {
        // 두 가지 색상 중 하나를 랜덤으로 선택
        var fillStyle = colors[Math.floor(Math.random() * colors.length)];
        var strokeColor = fillStyle === "black" ? "white" : "black"; // 색상에 따라 외곽선 색상 설정

        var body = Bodies.circle(x, y, size / 2, {
          // size를 반지름으로 사용
          render: {
            fillStyle: fillStyle, // 랜덤 선택된 색상
            strokeStyle: strokeColor, // 외곽선 색상 설정
            lineWidth: 2, // 선 두께
          },
          isStatic: false,
          restitution: 0.5,
          friction: 0.2,
        });

        objects.push(body);
        return body;
      }
      // 아이템의 기본적인 설정 함수
      function createTextBody(x, y, width, height, fillStyle, strokeColor) {
        var body = Bodies.rectangle(x, y, width, height, {
          chamfer: {
            radius: Math.min(height / 2, 60), // height에 비례한 radius 값 설정
          },
          render: {
            fillStyle: fillStyle,
            strokeStyle: strokeColor, // 외곽선 색상
            lineWidth: 2, // 선 두께
          },
          mass: 3, //공기저항 0.001이면 아예 저항이 없음 올리면서 수치변경
          isStatic: false, //true로 생성된 물체는 움직이지 않음
          restitution: 0.5, //반발 계수 - 벽 or 다른 물체와 충돌 시 팅김 정도
          friction: 0.2, //마찰 계수 - 다른 물체와 접촉할때 마찰력 정도
        });

        objects.push(body);
        return body;
      }
      let textWidth;

      function createObjects(width, height) {
        objects = []; //배열 초기화 (반응형때 렌더링을 새로 한다면 필요 아니면 X)

        var black = "black";
        var white = "white";
        var red = "red";

        var bodyData = [
          {
            text: "UI/UX",
            color: black,
            strokeColor: white,
            textColor: "white",
          },
          {
            text: "Responsive",
            color: black,
            strokeColor: white,
            textColor: "white",
          },
          {
            text: "Lazy Loading",
            color: black,
            strokeColor: white,
            textColor: "white",
          },
          {
            text: "PWA",
            color: white,
            strokeColor: black,
            textColor: "black",
          },
          {
            text: "개인화된 프로모션",
            color: white,
            strokeColor: black,
            textColor: "black",
          },
          {
            text: "맞춤형 쇼핑 경험",
            color: red,
            strokeColor: white,
            textColor: "white",
          },
        ];

        var centerX = sectionWidth / 2;
        var yStart = -200; // 화면 상단에서 시작

        var padding = 40; // 텍스트 주변에 추가할 패딩 값
        var height = Math.min(120, Math.max(50, width * 0.1)); // 창 크기에 따라 조정

        // 텍스트 오브젝트 생성
        bodyData.forEach((data, index) => {
          // 텍스트의 실제 너비 계산
          var textWidth = getTextWidth(data.text);

          // 아이템 너비는 텍스트의 너비에 패딩 값을 추가한 값으로 설정
          var itemWidth = textWidth + 80;

          var x = centerX + (Math.random() - 0.5) * 600;
          var y = yStart + index * 10;
          var body = createTextBody(
            x,
            y,
            itemWidth, // 텍스트에 패딩을 추가한 너비
            height,
            data.color,
            data.strokeColor // 외곽선 색상 설정
          );
          body.text = data.text; // 텍스트를 Body에 추가 (하지만 Matter.js 자체에서 렌더링하지 않음)
          body.textColor = data.textColor;
        });

        // 원형 오브젝트 추가 (검정색과 하얀색, 외곽선 반대 색상으로 설정)
        var circleColors = ["black", "white"]; // 두 가지 색상 (검정, 하양)
        for (var i = 0; i < 3; i++) {
          // 원하는 수만큼의 원형 오브젝트 생성

          var x = centerX + (Math.random() - 0.5) * width * 0.8; // 랜덤한 X 위치
          var y = yStart + i * 10;

          var circleBody = createCircleBody(
            x,
            y,
            height, // 텍스트와 동일한 크기로 설정
            circleColors // 두 가지 색상 전달
          );
        }
        Composite.add(engine.world, objects);
      }

      // 벽설정 위부터 X Y width 벽의 두께 wallThickness = 30으로 지정
      // 바닥
      var ground = Bodies.rectangle(
        sectionWidth / 2,
        sectionHeight + wallThickness / 2,
        sectionWidth,
        wallThickness + 3,
        { isStatic: true } //벽 고정
      );
      // 왼쪽벽
      var leftWall = Bodies.rectangle(
        0 - wallThickness / 2,
        sectionHeight / 2,
        wallThickness,
        sectionHeight * 10, //*10은 마우스로 던질때 가끔 물체가 벽을 넘어서 사라지는 경우 때문에 그냥 높게 설정
        { isStatic: true }
      );
      // 오른쪽벽
      var rightWall = Bodies.rectangle(
        sectionWidth + wallThickness / 2,
        sectionHeight / 2,
        wallThickness,
        sectionHeight * 10,
        { isStatic: true }
      );
      //벽생성
      Composite.add(engine.world, [ground, leftWall, rightWall]);

      //마우스 옵션중 가장 쉽게 찾을 수 있는 코드였으며 여러가지 더 있는 것으로 보임
      let mouse = Matter.Mouse.create(render.canvas);
      let mouseConstraint = Matter.MouseConstraint.create(engine, {
        mouse: mouse,
        constraint: {
          stiffness: 1, //탄성 차이를 느끼기 위해 0.001로 설정
          render: {
            visible: false, //true라면 위의 값의 움직임을 눈으로 확인 가능
          },
        },
      });
      // 마우스 옵션 추가
      Composite.add(engine.world, mouseConstraint);
      //render가 완료된 후 renderText함수 실행
      Events.on(render, "afterRender", renderText);

      Render.run(render); //렌더 실행
      var renner = Runner.create(); //러너 생성
      Runner.run(renner, engine); //생성한 업데이트와 물리 엔진 업데이트
      var fontSize = "clamp(14px, 2vw, 32px)";
      function getTextWidth(text) {
        var canvas = document.createElement("canvas");
        var context = canvas.getContext("2d");
        context.font = `500 ${fontSize} Pretendard Variable`;
        return context.measureText(text).width;
      }

      // 텍스트 생성함수
      function renderText() {
        var context = render.context;
        var bodies = Composite.allBodies(engine.world);
        //폰트 사이즈 조절
        var windowWidth = window.innerWidth;

        context.textAlign = "center";
        context.textBaseline = "middle";

        for (var i = 0; i < bodies.length; i++) {
          var body = bodies[i];
          if (body.text) {
            var centerX = body.position.x;
            var centerY = body.position.y;

            context.save();
            context.translate(centerX, centerY);
            context.rotate(body.angle);

            context.fillStyle = body.textColor || "white"; // 텍스트 색상
            context.font = `500 ${fontSize} Pretendard Variable`; // 폰트 설정
            context.fillText(body.text, 0, 0); // 텍스트 출력
            context.restore();
          }
        }
      }
      let resizeChkWindow = false,
        resizeChkWindow02 = false,
        resizeChktrigger = false;
      function handleResize(dropKeySection) {
        // 리사이즈 시 창의 너비,높이 받아와서 캔버스 사이즈 변경
        sectionWidth = dropKeySection.clientWidth;
        sectionHeight = dropKeySection.clientHeight;
        render.canvas.width = sectionWidth;
        render.canvas.height = sectionHeight;
        //바닥의 위치 변경 setPosition(아이템,X,Y)
        Matter.Body.setPosition(
          ground, //아이템
          Matter.Vector.create(
            sectionWidth / 2, //X
            sectionHeight //Y
          )
        );
        //오른쪽 벽의 위치변경
        Matter.Body.setPosition(
          rightWall,
          Matter.Vector.create(
            sectionWidth + wallThickness / 2,
            sectionHeight / 2
          )
        );
        Composite.remove(engine.world, ground); // 기존 바닥 제거
        ground = Bodies.rectangle(
          sectionWidth / 2,
          sectionHeight + wallThickness / 2,
          sectionWidth,
          wallThickness,
          { isStatic: true }
        );
        Composite.add(engine.world, ground); // 새 바닥 추가

        //창크기가 1024보다 작을때
        if (sectionWidth < 1024 && !resizeChkWindow) {
          resizeChkWindow = true;
          resizeChkWindow02 = false;
          objects.forEach((body) => Composite.remove(engine.world, body));
          createObjects(sectionWidth, sectionHeight);
        }
        //창크기가 1024보다 클때
        if (sectionWidth >= 1024 && !resizeChkWindow02) {
          resizeChkWindow02 = true;
          resizeChkWindow = false;
          objects.forEach((body) => Composite.remove(engine.world, body));
          createObjects(sectionWidth, sectionHeight);
        }
      }
      // 초기창 크기 체크
      if (sectionWidth < 1024 && !resizeChkWindow) {
        resizeChkWindow = true;
        resizeChkWindow02 = false;
      }
      if (sectionWidth >= 1024 && !resizeChkWindow02) {
        resizeChkWindow02 = true;
        resizeChkWindow = false;
      }
      window.addEventListener("resize", () => handleResize(dropKeySection));

      createObjects(sectionWidth, sectionHeight);

      // 마우스 포인터 스타일 변경을 위한 마우스 오버 이벤트 핸들러 추가
      Events.on(mouseConstraint, "mousemove", function (event) {
        // 마우스 위치에서 해당하는 바디가 있는지 확인
        const bodiesUnderMouse = Matter.Query.point(
          objects,
          event.mouse.position
        );

        if (bodiesUnderMouse.length > 0) {
          // 바디가 있을 때 grab 커서 스타일 적용
          dropKeySection.style.cursor = "grab";
        } else {
          // 마우스 포인터가 텍스트 바디 외부에 있을 때 기본 스타일로 되돌림
          dropKeySection.style.cursor = "default";
        }
      });

      // 아이템을 드래그하는 중 커서를 'grabbing'으로 변경
      Events.on(mouseConstraint, "startdrag", function () {
        dropKeySection.style.cursor = "grabbing";
      });

      // 드래그가 끝나면 커서를 'default'로 되돌림
      Events.on(mouseConstraint, "enddrag", function () {
        dropKeySection.style.cursor = "default";
      });

      gsap.to(".work-view-content-add .work-add-sec3", {
        scrollTrigger: {
          trigger: ".work-view-content-add .work-add-sec2",
          start: "100% 50%",
          end: "100% 50%",
          scrub: 2,
          onEnter: () => {
            objects.forEach((body) => Composite.remove(engine.world, body));
            createObjects(sectionWidth, sectionHeight);
          },
        },
        backgroundColor: secondColor,
      });
    </script>
    <script src="./js/common.js"></script>
  </body>
</html>
